<!DOCTYPE html>
<!-- HTML5 Hello world by kirupa - http://www.kirupa.com/html5/getting_your_feet_wet_html5_pg1.htm -->
<html lang="en-us">

<head>
<meta charset="utf-8">
<title>No-Fuss Bibliographies</title>
<style type="text/css">
body {
	font-family: "Times New Roman";
	text-align: left;
	font-weight: normal;
	background-color: #ffddf8;
}
a i {
	font-size: 12px;
}
p {
	font-size: 11px;
}
.buttonStyle {
	border-radius: 4px;
	border: thin solid #fc3fd4;
	padding: 5px;
	background-color: #ff75e2;
	font-family: sans-serif;
	font-weight: bold;
	color: #fc3fd4;
	width: 75px;
}

.buttonStyle:hover {
	border: thin solid #ff56db;
	background-color: #ff91e8;
	color: #ff56db;
	cursor: pointer;
}
.buttonStyle:active {
	border: thin solid #f966da;
	background-color: #ff96e9;
	color: #f966da;
	cursor: pointer;
}

</style>
</head>
<body>
<div id="mainContent">
</div>
<u><h2>No-Fuss Bibliographies</h2></u>
<h3>Physical Book</h3>
<form onsubmit="citeBook();return false">
  Creator: <input type="text" id="fname1A" size="10"  placeholder="First Name*">
  <input type="text" id="mname1A" size="10" placeholder="Middle Name*">
  <input type="text" id="lname1A" size="10" placeholder="Last Name*"><br>
  Second Creator, if applicable: <input type="text" id="fname2A" size="10"  placeholder="First Name*">
  <input type="text" id="mname2A" size="10" placeholder="Middle Name*">
  <input type="text" id="lname2A" size="10" placeholder="Last Name*"><br>
  More Creators? <input type="checkbox" id="pluralA" title="plural"><br>
  Translator, if applicable: <input type="text" id="fname3A" size="10"  placeholder="First Name*">
  <input type="text" id="mname3A" size="10" placeholder="Middle Name*">
  <input type="text" id="lname3A" size="10" placeholder="Last Name*"><br>
  Title: <input type="text" id="titleA" size="20" ><br>
  Publisher: <input type="text" id="publisherA" size="20"><br>
  City of Publication: <input type="text" id="cityA" size="20"> ** <br>
  Date Published: <input type="date" id="date1A"><br>
  <input type="submit" class="buttonStyle" value="Submit"> 
</form>
<a id="book1"></a><i id="book2"></i><a id="book3"></a>
<p>*If using initial(s), please include period.</p>
<p>**City of Publication should only be used if the publisher has offices in more than one country or is unknown outside North America."</p>
<h3>Webpage</h3>
<form onsubmit="citeWeb();return false">
  Creator: <input type="text" id="fname1B" size="10"  placeholder="First Name*">
  <input type="text" id="mname1B" size="10" placeholder="Middle Name*">
  <input type="text" id="lname1B" size="10" placeholder="Last Name*"><br>
  Second Creator, if applicable: <input type="text" id="fname2B" size="10"  placeholder="First Name*">
  <input type="text" id="mname2B" size="10" placeholder="Middle Name*">
  <input type="text" id="lname2B" size="10" placeholder="Last Name*"><br>
  More Creators? <input type="checkbox" id="pluralB" title="plural"><br>
  Page Title: <input type="text" id="titleB" size="20" ><br>
  Website: <input type="text" id="siteNameB" size="20"><br>
  Publisher: <input type="text" id="publisherB" size="20"><br>
  URL: <input type="text" id="urlB" size="30"> ** <br>
  Date Published: <input type="date" id="date1B"><br>
  Date Accessed: <input type="date" id="date2B"><br>
  <input type="submit" class="buttonStyle" value="Submit"> 
</form>
<a id="web1"></a><i id="web2"></i><a id="web3"></a>
<p>*If using initial(s), please include period.</p>
<p>**Do not include "https://"</p>
<h6>Version 2.0 by Bill Brightbulb and Maggie Huang</h6>
<script> 
function numToMonth(m){
	switch(m){
		case 1:
			return " Jan. ";
		case 2:
			return " Feb. ";
		case 3:
			return " Mar. ";
		case 4:
			return " Apr. ";
		case 5:
			return " May ";
		case 6:
			return " June ";
		case 7:
			return " July ";
		case 8:
			return " Aug. ";
		case 9:
			return " Sep. ";
		case 10:
			return " Oct. ";
		case 11:
			return " Nov. ";
		case 12:
			return " Dec. ";
	}
	return undefined;
}
function citeBook(){
    //var mm1 = numToMonth(parseInt(document.getElementById("date1A").value.substring(5, 7), 10));
    //var dd1 = document.getElementById("date1A").value.substring(8, 10);
    var yyyy1 = document.getElementById("date1A").value.substring(0, 4);
    var title = document.getElementById("titleA").value;
    var publisher = document.getElementById("publisherA").value;
    var city = document.getElementById("cityA").value;
    var fname1 = document.getElementById("fname1A").value;
    var mname1 = document.getElementById("mname1A").value;
    var lname1 = document.getElementById("lname1A").value;
    var fname2 = document.getElementById("fname2A").value;
    var mname2 = document.getElementById("mname2A").value;
    var lname2 = document.getElementById("lname2A").value;
    var fname3 = document.getElementById("fname3A").value;
    var mname3 = document.getElementById("mname3A").value;
    var lname3 = document.getElementById("lname3A").value;
    var plural = document.getElementById("pluralA").checked;
    if(mname1.length>0){
    	if(mname1.indexOf(".") != mname1.length-1){
    		mname1 = " " + mname1.substring(0, 1) + ". ";
    	} else {
    		mname1 = " " + mname1 + " ";
    	}
    } else if(fname1.indexOf(".") == fname1.length-1){
    	fname1 += " ";
    } else if(fname2.length===0 && lname2.length===0 && fname1.length>0){
    	fname1 += ". ";
    }
    if(plural){
    	plural="et al. ";
    	fname2="";
    	mname2="";
    	lname2="";
    } else {
    	plural = "";
    	if(fname2.length>0 || lname2.length>0){
    		mname1 += " and ";
    		if(lname2 === lname1){
    			lname2="";
    		}
    		if(mname2.length>0){
    			if(mname2.indexOf(".") != mname2.length-1){
    				mname2 = mname2.substring(0, 1) + ". ";
    			}
    			mname2 = " " +mname2;
    		}
    		if(lname2.length>0 && (publisher.length>0 || yyyy1.length>0)){
    			lname2+=". ";
    		}
    	}
    }
    if((fname1.length>0 || mname1.length>0) && lname1.length>0){
    	lname1 += ", ";
    }
    if(fname3.length>0 || lname3.length>0){
    	fname3="Translated by " + fname3 + " ";
    	if(mname3.length>0){
    		if(mname3.indexOf(".") != mname3.length-1){
    			mname3 = mname3.substring(0, 1) + ". ";
    		}
    	}
    	lname3 += ", ";
    }
    if(yyyy1 === undefined){
    	yyyy1="";
    }
    if(city.length>0){
    	if(publisher.length===0){
    		publisher="n. p";
    	}
    	publisher = city + ", " + publisher;
    }
    if(publisher.length===0){
    	publisher="n. p";
    }
    if(yyyy1.length > 0){
    	yyyy1 = ", " + yyyy1;
    }
    document.getElementById("book1").innerHTML=lname1+fname1+mname1+fname2+mname2+lname2+plural;
    document.getElementById("book2").innerHTML=title+". ";
    document.getElementById("book3").innerHTML=fname3+mname3+lname3+publisher+yyyy1+".";
}
function citeWeb(){
    var mm1 = numToMonth(parseInt(document.getElementById("date1B").value.substring(5, 7), 10));
    var dd1 = parseInt(document.getElementById("date1B").value.substring(8, 10), 10);
    var yyyy1 = document.getElementById("date1B").value.substring(0, 4);
    var mm2 = numToMonth(parseInt(document.getElementById("date2B").value.substring(5, 7), 10));
    var dd2 = parseInt(document.getElementById("date2B").value.substring(8, 10), 10);
    var yyyy2 = document.getElementById("date2B").value.substring(0, 4);
    var title = document.getElementById("titleB").value;
    var publisher = document.getElementById("publisherB").value;
    var fname1 = document.getElementById("fname1B").value;
    var mname1 = document.getElementById("mname1B").value;
    var lname1 = document.getElementById("lname1B").value;
    var fname2 = document.getElementById("fname2B").value;
    var mname2 = document.getElementById("mname2B").value;
    var lname2 = document.getElementById("lname2B").value;
    var plural = document.getElementById("pluralB").checked;
    var url = document.getElementById("urlB").value;
    var siteName = document.getElementById("siteNameB").value;
    if(mname1.length>0){
    	if(mname1.indexOf(".") != mname1.length-1){
    		mname1 = " " + mname1.substring(0, 1) + ". ";
    	} else {
    		mname1 = " " + mname1 + " ";
    	}
    } else if(fname1.indexOf(".") == fname1.length-1){
    	fname1 += " ";
    } else if(fname2.length===0 && lname2.length===0 && fname1.length>0){
    	fname1 += ". ";
    }
    if(plural){
    	plural="et al. ";
    	fname2="";
    	mname2="";
    	lname2="";
    } else {
    	plural = "";
    	if(fname2.length>0 || lname2.length>0){
    		mname1 += " and ";
    		if(lname2 === lname1){
    			lname2="";
    		}
    		if(mname2.length>0){
    			if(mname2.indexOf(".") != mname2.length-1){
    				mname2 = mname2.substring(0, 1) + ". ";
    			}
    			mname2 = " " +mname2;
    		}
    		if(lname2.length>0 && (publisher.length>0 || yyyy1.length>0)){
    			lname2+=". ";
    		}
    	}
    }
    if((fname1.length>0 || mname1.length>0) && lname1.length>0){
    	lname1 += ", ";
    }
    if(dd1.value === undefined){
      if(undefined === mm1) {
        // if(undefined === yyyy1){
    	    mm1 = "";
    	    yyyy1 = "n. d.";
        // }
      }
      dd1 = "";
    }
    if(dd2.value === undefined){
      var today = new Date();
      if(undefined === mm2){
        // if(undefined === yyyy2){
    	    yyyy2 = today.getFullYear();
        // }
    	  mm2 = numToMonth(today.getMonth()+1);
    	  dd2 = today.getDate();
      }
    }
    if((publisher === siteName && siteName.length > 0) || publisher.length === 0){
      publisher = "";
    } else {
      publisher += ". ";
    }
    if(title.substring(title.length-1) === "." || title.substring(title.length-1) === "?" || title.substring(title.length-1) === "!"){
      title += "\” ";
    } else {
      title += ".\” ";
    }
    document.getElementById("web1").innerHTML=lname1+fname1+mname1+fname2+mname2+lname2+plural + "\“" + title;
    document.getElementById("web2").innerHTML=siteName;
    document.getElementById("web3").innerHTML=". " + publisher + dd1 + mm1 + yyyy1 + ", " + url + ". Accessed " + dd2 + mm2 + yyyy2 + ".";
}
</script>
</body>
</html>
